{% extends 'base.html' %}
{% block title %}Fitness Tracker{% endblock %}

{% block content %}
<section style="text-align: center;">
    <h2>Your Progress</h2>

    <!-- Dropdown for Time Period Selection -->
    <label for="timePeriod">Select Time Period:</label>
    <select id="timePeriod" style="margin-top: 10px; padding: 8px; font-size: 1rem;">
        <option value="weekly">This Week</option>
        <option value="monthly">This Month</option>
        <option value="yearly">This Year</option>
    </select>

    <!-- Chart.js Canvas -->
    <div style="margin: 20px auto; max-width: 600px;">
        <canvas id="progressChart"></canvas>
    </div>

    <!-- Progress Summary -->
    <div id="progressSummary" style="margin-top: 30px; text-align: center;">
        <h3>Overall Progress</h3>
        <p id="totalWorkouts">Total Workouts Completed: <strong>Loading...</strong></p>
        <p id="totalCalories">Total Calories Burned: <strong>Loading...</strong></p>
        <p id="goalProgress">Goal Progress: <strong>Loading...</strong></p>
    </div>
</section>

<!-- Activity Log Section -->
<section style="margin-top: 40px; text-align: center;">
    <h3>Your Recent Activities</h3>
    <table style="margin: 0 auto; width: 80%; max-width: 600px; border-collapse: collapse; text-align: center;">
        <thead>
            <tr>
                <th style="border: 1px solid #ddd; padding: 8px;">Date</th>
                <th style="border: 1px solid #ddd; padding: 8px;">Workout Type</th>
                <th style="border: 1px solid #ddd; padding: 8px;">Duration</th>
                <th style="border: 1px solid #ddd; padding: 8px;">Calories Burned</th>
            </tr>
        </thead>
        <tbody id="activityLog">
            <!-- Dynamic content will be inserted here -->
        </tbody>
    </table>
</section>
{% endblock %}

{% block scripts %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="{{ url_for('static', filename='js/progress.js') }}"></script>
{% endblock %}
